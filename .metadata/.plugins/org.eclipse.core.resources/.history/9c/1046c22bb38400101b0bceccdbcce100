package com.example.demo;



import java.util.Date;

import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import com.example.demo.emp.mapper.EmpMapper;
import com.example.demo.emp.mapper.EmpVO;

@SpringBootTest
public class EmpMapperTest {

	@Autowired EmpMapper empMapper;
//	@Test
//	public void selectEmp() {
//		empMapper.selectEmp().forEach(emp -> System.out.println(emp.get("FIRST_NAME")));
//		//그냥 EMP는 EMP한행 전체가 나옴. 
//		//키로 컬럼명을 줘서 FIRST_NAME만 출력. LIST는 행들의 묶음//EMP(한 행은 MAP 형식, 키값의로 FIRST_NAME) 
	//select *from employees 쿼리문.
	//empMapper.selectEmp().forEach(emp -> System.out.println(emp.getFirst_name()));
//	}
	@DisplayName("전체조회")
	@Test
	public void selectEmp() {
		empMapper.selectEmp().forEach(emp -> System.out.println(emp));
		
	}
	
	@DisplayName("단건조회")
	@Test
	public void selectEmpById() {
		EmpVO empVO = empMapper.selectEmpById(100L);
		System.out.println(empVO.getFirstName());
	}
	
	@DisplayName("등록")
	@Test
	public void insertEmp() {
		EmpVO empVO = EmpVO.builder()
				.EmployeeId(400L)
				.email("a@a.22")
				.lastName("길동")
				.jobId("IT_PROG")
				.hireDate(new Date())
				.build();
		int result = empMapper.insertEmp(empVO);
		System.out.println(result + " 건이 처리됨");
	}
	
	
}
